{% extends 'crudajax/index.html' %}
{% load static %}

{% block content %}
<div class="row">
    
    <div class="col-sm-4">
        <h4 class="text-center alert alert-info" >Add/Update User</h4>
        <form action="" id="user-form">
            {% csrf_token %}

            <input type="hidden" name="userId" id="userId">
            {{form.as_p}}

            <input id="btn-save" class="btn btn-success" type="button" value="Save">
        </form>
        <hr>

        <div id="msg" class="alert alert-info" style="display: none;"></div>
    </div>

    <div class="col-sm-8">
        <h4 class="text-center alert alert-success">List of Users</h4>
        <table class="table">
            <thead>
              <tr>
                <th scope="col">Name</th>
                <th scope="col">Email</th>
                <th scope="col">Address</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody id="user-table">
            {% for user in users %}
                <tr>
                    <td>{{user.name}}</td>
                    <td>{{user.email}}</td>
                    <td>{{user.address}}</td>
                    <td>
                        <input type="button" data-id="{{user.id}}" value="Edit" class="btn btn-sm btn-info btn-edit">
                        <input type="button" data-id="{{user.id}}" value="Delete" class="btn btn-sm btn-danger btn-del">
                    </td>
                </tr>
            {% endfor %}
            </tbody>
          </table>
    </div>

</div>
{% endblock content %}

{% block javascript %}
    <script src="{% static 'crudajax/js/ajax.js' %}"></script>
{% endblock javascript %}